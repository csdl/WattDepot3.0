<!DOCTYPE html>
<html>
<head>
<title>WattDepot3 HTTP API</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Bootstrap -->
<link rel="stylesheet" href="dist/css/bootstrap.min.css">
<!-- Optional theme -->
<link rel="stylesheet" href="dist/css/bootstrap-theme.min.css">
<link rel="stylesheet/less" type="text/css" href="style.less">
<script src="less-1.3.0.min.js"></script>
<style>
</style>
</head>
<body>
    <div class="container">
        <div class="jumbotron">
            <header class="top-bar">
                <h2>
                    <img alt="WattDepot logo" src="wattdepot-logo.png">
                    WattDepot3 HTTP API: Sensors
                </h2>
            </header>
        </div>
        <div class="row row-offcanvas row-offcanvas-left">
            <div class="col-xs-6 col-sm-3 sidebar-offcanvas"
                id="sidebar" role="navigation">
                <div class="well sidebar-nav">
                    <ul class="nav nav-pills nav-stacked">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="HtmlApi.html">Overview</a></li>
                        <li><a href="Sensors.html">Sensors</a>
                            <ul>
                                <li><a href="Locations.html">Sensor
                                        Locations</a></li>
                                <li><a href="SensorGroups.html">Sensor
                                        Groups</a></li>
                                <li><a href="SensorModels.html">Sensor
                                        Models</a></li>
                            </ul></li>
                        <li><a href="SensorProcesses.html">Collector Metadata</a>
                        <li class="active"><a
                            href="WattDepositories.html">WattDepositories</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-xs-12 col-sm-9">
                <header> </header>
                <div class="card">
                    <section id="get_depositories">
                        <header>
                            <h2>
                                <span class="big-type">GET</span>
                                /wattdepot/{group_id}/depositories
                            </h2>
                        </header>
                        <div class="card-info">
                            http://server.wattdepot.org/wattdepot/{group_id}/depositories
                            <a class="btn right"
                                onclick="$('#get_depositories_response_long').slideToggle()"><b>Response
                                    <span class="caret"></span>
                            </b></a>
                        </div>
                        <div class="card-info-more"
                            id="get_depositories_response_long"
                            display="none">
                            <pre>
		      <code>
[
  {
     "id": "ilima-energy1",
     "name": "Ilima energy consumption",
     "measurementType": "energy"
  },
  {
     "id": "lehua-energy1",
     "name": "Lehua energy consumption",
     "measurementType": "energy"
  },
  {
     "id": "uh-temp1",
     "name": "University of Hawaii Temperature",
     "measurementType": "temperature"
  }
]
		      </code>
		    </pre>
                        </div>
                        <div class="card-description">
                            <p>Get a full list of defined
                                WattDepositories.</p>
                        </div>
                    </section>
                </div>
                <div class="card">
                    <section id="get_depository">
                        <header>
                            <h2>
                                <span class="big-type">GET</span>
                                /wattdepot/{group_id}/depository/{depository_id}
                            </h2>
                        </header>
                        <div class="card-info">
                            http://server.wattdepot.org/wattdepot/{group_id}/depository/ilima-energy1
                            <a class="btn right"
                                onclick="$('#get_depository_response').slideToggle()"><b>Response
                                    <span class="caret"></span>
                            </b></a>
                        </div>
                        <div class="card-info-more"
                            id="get_depository_response" display="none">
                            <pre>
              <code>
{
   "id": "ilima-energy1",
   "name": "Ilima energy consumption",
   "measurementType": "energy"
}
             </code>
            </pre>
                        </div>
                        <div class="card-description">
                            <p>Get the WattDepository with the given
                                depository_id.</p>
                        </div>
                    </section>
                </div>
                <div class="card">
                    <section id="get_depository_sensors">
                        <header>
                            <h3>
                                <span class="big-type">GET</span>
                                /wattdepot/{group_id}/depository/{depository_id}/sensors/
                            </h3>
                        </header>
                        <div class="card-info">
                            http://server.wattdepot.org/wattdepot/{group_id}/depository/ilima-energy1/sensors/
                            <a class="btn right"
                                onclick="$('#get_depository_response_sensors').slideToggle()"><b>Response
                                    <span class="caret"></span>
                            </b></a>
                        </div>
                        <div class="card-info-more"
                            id="get_depository_response_sensors"
                            display="none">
                            <pre>
              <code>
[
   {
      &quot;id&quot;: &quot;ilima-6-telco&quot;,
      &quot;uri&quot;: &quot;http://foo.com/ilima-6-telco&quot;,
      &quot;location&quot;:
            {
               &quot;description&quot;: &quot;Hale Aloha Ilima residence hall 6th floor&quot;,
               &quot;altitude&quot;: 30,
               &quot;longitude&quot;: -157.812727,
               &quot;latitude&quot;: 21.294642,
               &quot;id&quot;: &quot;ilima-6th&quot;
            },
      &quot;model&quot;:
            {
               &quot;id&quot;: &quot;egauge1.0&quot;,
               &quot;protocol&quot;: &quot;eGauge&quot;,
               &quot;type&quot;: &quot;EGAUGE&quot;,
               &quot;version&quot;: &quot;1.0&quot;
            },
      []
   },
   {
      &quot;id&quot;: &quot;ilima-6-elect&quot;,
      &quot;uri&quot;: &quot;http://foo.com/ilima-6-elect&quot;,
      &quot;location&quot;: 
            {
               &quot;description&quot;: &quot;Hale Aloha Ilima residence hall 6th floor&quot;,
               &quot;altitude&quot;: 30,
               &quot;longitude&quot;: -157.812727,
               &quot;latitude&quot;: 21.294642,
               &quot;id&quot;: &quot;ilima-6th&quot;
            },      
      &quot;model&quot;:
            {
               &quot;id&quot;: &quot;egauge1.0&quot;,
               &quot;protocol&quot;: &quot;eGauge&quot;,
               &quot;type&quot;: &quot;EGAUGE&quot;,
               &quot;version&quot;: &quot;1.0&quot;
            },
      []
   }
]
              </code>
            </pre>
                        </div>
                        <div class="card-description">
                            <p>Get the list of Sensors that sent
                                measurements to the WattDepository with
                                the given depository_id.</p>
                        </div>
                    </section>
                </div>
                <!--                 <div class="card">
                    <section id="get_depository_sensors_short">
                        <header>
                            <h3>
                                <span class="big-type">GET</span>
                                /wattdepot/{group_id}/depository/{depository_id}/sensors/?short=true
                            </h3>
                        </header>
                        <div class="card-info">
                            http://server.wattdepot.org/wattdepot/{group_id}/depository/ilima-energy1/sensors/?short=true
                            <a class="btn right"
                                onclick="$('#get_depository_response_sensors_short').slideToggle()"><b>Response
                                    <span class="caret"></span>
                            </b></a>
                        </div>
                        <div class="card-info-more"
                            id="get_depository_response_sensors_short"
                            display="none">
                            <pre>
              <code>
[
   &quot;ilima-6-telco&quot;,
   &quot;ilima-6-elect&quot;
]
              </code>
            </pre>
                        </div>
                        <div class="card-description">
                            <p>Get the list of Sensors that sent
                                measurements to the WattDepository with
                                the given depository_id in shortened
                                format. Shortend format uses sensor ids
                                instead of full sensors.</p>
                        </div>
                    </section>
                </div> -->
                <div class="card">
                    <section id="get_depository_sensor_value">
                        <header>
                            <h4>
                                <span class="big-type">GET</span>
                                /wattdepot/{group_id}/depository/{depository_id}/value/?sensor={sensor_id}&amp;time={timestamp}
                            </h4>
                        </header>
                        <div class="card-info">
                            http://server.wattdepot.org/wattdepot/{group_id}/depository/ilima-energy1/value/?sensor=ilima-6-telco&amp;time=2013-07-28T09:00:00.000-10:00
                            <a class="btn right"
                                onclick="$('#get_depository_response_sensor_value').slideToggle()"><b>Response
                                    <span class="caret"></span>
                            </b></a>
                        </div>
                        <div class="card-info-more"
                            id="get_depository_response_sensor_value"
                            display="none">
                            <pre>
              <code>
{
  "sensorId": "ilima-6-telco",
  "value": 130531.388,
  "measurementType": "energy"
  "date":"2013-07-28T19:00:00.000+0000"
}
              </code>
            </pre>
                        </div>
                        <div class="card-description">
                            <p>Get measurement value for the given
                                sensor at the given time. This is most
                                likely an interpolated value.</p>
                            <p>The request will return an error if
                                the timestamp is less than the eariliest
                                measurement time or greater than the
                                latest measurement time.</p>
                        </div>
                    </section>
                </div>
                <div class="card">
                    <section id="get_depository_sensor_value2">
                        <header>
                            <h4>
                                <span class="big-type">GET</span>
                                /wattdepot/{group_id}/depository/{depository_id}/value/?sensor={sensor_id}&amp;start={timestamp}&amp;end={timestamp}
                            </h4>
                        </header>
                        <div class="card-info">
                            http://server.wattdepot.org/wattdepot/{group_id}/depository/ilima-energy1/value/?sensor=ilima-6-telco&amp;start=2013-07-28T09:00:00.000-10:00&amp;end=2013-07-29T09:00:00.000-10:00
                            <a class="btn right"
                                onclick="$('#get_depository_response_sensor_value2').slideToggle()"><b>Response
                                    <span class="caret"></span>
                            </b></a>
                        </div>
                        <div class="card-info-more"
                            id="get_depository_response_sensor_value2"
                            display="none">
                            <pre>
              <code>
{
  "sensorId": "ilima-6-telco",
  "value": 372.84,
  "measurementType": "energy"
  "date": "2013-07-29T19:00:00.000+0000"
}
              </code>
            </pre>
                        </div>
                        <div class="card-description">
                            <p>Get measurement value for the given
                                sensor over the time period. The value
                                at start is subtracted from the value at
                                end. Note the date is the end of the
                                period.</p>
                            <p>The request will return an error if
                                the start or end timestamp is less than
                                the eariliest measurement time or
                                greater than the latest measurement
                                time.</p>
                        </div>
                    </section>
                </div>
                <div class="card">
                    <section id="get_depository_sensor_measurements">
                        <header>
                            <h4>
                                <span class="big-type">GET</span>
                                /wattdepot/{group_id}/depository/{depository_id}/measurements/?sensor={sensor_id}&amp;start={timestamp}&amp;end={timestamp}
                            </h4>
                        </header>
                        <div class="card-info">
                            http://server.wattdepot.org/wattdepot/{group_id}/depository/ilima-energy1/measurements/?sensor=ilima-6-telco&amp;start=2013-07-28T09:00:00.000-10:00&amp;end=2013-07-29T09:00:00.000-10:00
                            <a class="btn right"
                                onclick="$('#get_depository_response_sensor_measurements').slideToggle()"><b>Response
                                    <span class="caret"></span>
                            </b></a>
                        </div>
                        <div class="card-info-more"
                            id="get_depository_response_sensor_measurements"
                            display="none">
                            <pre>
              <code>
[
  {
    "sensor":
      {
        "id": "ilima-6-telco",
        "uri":"http://foo.com",
        "location":
          {
            "id":"ilima-3",
            "latitude":21.294642,
            "longitude":-157.812727,
            "altitude":40.0,
            "description":"Hale Aloha Ilima residence hall 7th floor"
          },
        "model":
          {
            "id":"sm1",
            "protocol":"Hammer",
            "type":"hammer",
            "version":"1.0"
          }
        "properties":[]
      },
   "date": "2013-07-28T19:00:00.000+0000",
   "value": 372.84,
   "measurementType": "energy"
  },
  {
    "sensor":
      {
        "id": "ilima-6-telco",
        "uri":"http://foo.com",
        "location":
          {
            "id":"ilima-3",
            "latitude":21.294642,
            "longitude":-157.812727,
            "altitude":40.0,
            "description":"Hale Aloha Ilima residence hall 7th floor"
          },
        "model":
          {
            "id":"sm1",
            "protocol":"Hammer",
            "type":"hammer",
            "version":"1.0"
          }
        "properties":[]
      },
    "date": "2013-07-29T07:00:00.000+0000",
    "value": 492.75,
    "measurementType": "energy"
  },
  {
    "sensor":
      {
        "id": "ilima-6-telco",
        "uri":"http://foo.com",
        "location":
          {
            "id":"ilima-3",
            "latitude":21.294642,
            "longitude":-157.812727,
            "altitude":40.0,
            "description":"Hale Aloha Ilima residence hall 7th floor"
          },
        "model":
          {
            "id":"sm1",
            "protocol":"Hammer",
            "type":"hammer",
            "version":"1.0"
          }
        "properties":[]
      },
    "date": "2013-07-29T19:00:00.000+0000",
    "value": 406.92,
    "measurementType": "energy"
  }
]
              </code>
            </pre>
                        </div>
                        <div class="card-description">
                            <p>Get measurements for the given sensor
                                over the time period.</p>
                        </div>
                    </section>
                </div>
                <div class="card">
                    <section id="post_depository">
                        <header>
                            <h2>
                                <span class="big-type">PUT</span>
                                /wattdepot/{group_id}/depositories/
                            </h2>
                        </header>
                        <div class="card-info">curl -X PUT -H
                            "ContentType: application/json" -d '{"name":
                            "Ilima energy consumption",
                            "measurementType": "energy"}'
                            http://server.wattdepot.org/wattdepot/{group_id}/depositories/

                        </div>
                        <div class="card-info-more"
                            id="put_depository_response" display="none">
                            <pre>
              <code>
{
   &quot;status&quot;: 200,
   &quot;message&quot;: &quot;OK&quot;
}
              </code>
            </pre>
                        </div>
                        <div class="card-description">
                            <p>Add the WattDepository. Will return
                                the HTTP status. Error status if
                                duplicate unique id.</p>
                        </div>
                    </section>
                </div>
                <div class="card">
                    <section id="post_depository_measurement">
                        <header>
                            <h3>
                                <span class="big-type">PUT</span>
                                /wattdepot/{group_id}/depository/{depository_id}/measurement/
                            </h3>
                        </header>
                        <div class="card-info">curl -X PUT -H
                            "ContentType: application/json" -d
                            '{"sensorId": "ilima-6th-telco", "value":
                            793l4.54, "timestamp":
                            "2013-07-28T09:02:00.000-10:00",
                            "measurementType": "energy"}'
                            http://server.wattdepot.org/wattdepot/{group_id}/depository/ilima-energy1/measurement/

                        </div>
                        <div class="card-info-more"
                            id="put_depository_measurement_response"
                            display="none">
                            <pre>
              <code>
{
   &quot;status&quot;: 200,
   &quot;message&quot;: &quot;OK&quot;
}
              </code>
            </pre>
                        </div>
                        <div class="card-description">
                            <p>Add the measurement to the given
                                WattDepository. Will return the HTTP
                                status. Error status if measurement type
                                of the measurement doesn't match the
                                WattDepositories measurement type.</p>
                        </div>
                    </section>
                </div>
                <div class="card">
                    <section id="del_depository">
                        <header>
                            <h2>
                                <span class="big-type">DEL</span>
                                /wattdepot/{group_id}/depository/{depository_id}
                            </h2>
                        </header>
                        <div class="card-info">curl -X DELETE
                            http://server.wattdepot.org/wattdepot/{group_id}/depository/ilima-energy1

                        </div>
                        <div class="card-info-more"
                            id="del_depository_response" display="none">
                            <pre>
              <code>
{
   &quot;status&quot;: 200,
   &quot;message&quot;: &quot;OK&quot;
}
              </code>
            </pre>
                        </div>
                        <div class="card-description">
                            <p>Deletes the WattDepository with the
                                given depository_id. Will return the
                                status. Error status if duplicate unique
                                id.</p>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
    <div class="main"></div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="//code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="dist/js/bootstrap.min.js"></script>
</body>
</html>